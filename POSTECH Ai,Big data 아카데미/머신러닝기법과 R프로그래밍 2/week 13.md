## 13.1 군집분석과 유사성척도



군집분석은 비지도 학습 : 속성변수들의 특징으로 그룹화



군집 주어진 데이터의 속성으로 군집화

계층형 군집분석

k-means



군집분석이란, 유사한속성을 가진 객체들을 군집으로 나누는 데이터마이닝 기법



고객들의 구매패턴을 군집하여 분석



군집분석 방법

계측정방법

사전에 군집수 k를 정하지 않고 단계적으로 군집 트리를 제공

비계층적 방법

사전에 군집수 k를 정한 후 각 객체를 k개 중 하나의 군집에 배정



객체 간의 유사성 정도를 정량적으로 나타내기 위해서 척도가 필요

거리 척도

거리가 가까울수록 유사성이 크다. 거리가 멀수록 유사성이 적어짐

상관계수 척도 

객체간 상관계수가 클수록 두 객체의 유사성이 커짐



유클리디안 거리

그냥 일반적인 피타고라스 정리



거리 계산 함수 : dist(데이터, method= , )

m1을 data frame으로 저장



민코프스키거리

유클리디안 거리의 일반화된 방법 m=2일때 유클리디안 거리가 거리



method에 거리계산 함수 넣으면 됨



상관계수를 척도로 사용할 수 잇음

상관계수가 클수록 두 객체의 유사성이 크다



상관계수 측정(cor)













## 13.2 군집분석  - 계층적 군집분석



사전에 군집수 k를 정하지 않고 단계적으로 군집을 형성



단일연결, 완전연결, 평균연결 등



단일연결법

군집의 유사성 척도로 두 군집의 모든 객체쌍의 거리중 가장 가까운 거리를사용





완전연결법

가장 먼거리 사용



평균 연결법

모든 객체 쌍의 평균거리 사용



중심연결

두 군집의 중심좌표





완전연결과 평균연령 비교

1833 영국 방직공장임금 데이터

5개의 속성존재



초평면사용하기 위한

DAAG 패키지 사용 

데이터 불러오기

결측지 삭제



계층적 군집분석

hclust(거리계산결과, method="") 



완전연결법 적용결과 

single, complete, average, centroid

단일, 완전,평균,중심 을 메서드에 넣어서 사용



보편적으로 워드방법을 많이씀





## 13.3 비계층적 군집분석



사전에 k개를 정하여 군집분석



k-means 군집분석은 비계층적 군집분석중 가장 널리 사용

k개 군집 중심좌표를 고려하여 각 객체를 가장 가까운 군집에 배정하는 것을 반복

4단계로 이루어짐

초기객체 선정

객체군집배정

군집중심좌표

선정





모든 거리 평균을 계산해 봤을때 적은것으로 묶음

중심좌표를 산출하여 수렴조건을 점검해야한다.





최적 군집수에 대한 시각화

최적값은 sihoueette , gapstat, wss 으로 산출

그래프가 완만해지는 지점을 k의 값으로 추정



Kmeans 결과 시각화

Convex모양으로 구역 표시

Repel을 통해 관측치 표기



PAM partitioning Around Medoids

















