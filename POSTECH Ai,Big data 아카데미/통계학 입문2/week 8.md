# week 8



## 8.1 선형모형의 특성과 상관분석



데이터 탐색 -변수간 관계

변수간에 상관관계 혹은 그외



상관계수 : 두 변수간 선형관계의 강도를 나타내주는 척도

1에 가까울수록 상관관계 높고 0에 가까울수록 낮다.



표본상관계수 = 공분산 / x의 편차 * y의 편차



선형 회귀식, 선형회귀식의 결정계수 ( 얼마나 설명하나 )

더많은 독립변수를 회귀모형에 포함시키면 

선형회귀식의 결정계수가 늘어난다.





## 8.2 실제데이터 예측모형 구현



회귀분석의 목적  - 예측과 추정

선형모형: 독립변수와 종속변수간의 관계가 선형식

오차는 항상존재할것



데이터를 가장 잘 설명하는 기울기와 절편을 구한다.

이것을 최소자승법으로 구할 수 있다.



회귀계수의 선형결합으로 표현된느 예측모형

x 설명변수

y 반응변수, 타겟변수

모형의 적합도와 결정계수 R^2

회귀식이 데이터를 얼마나 잘 설명하는지에 대한 척도. 회귀모형으로 설명할 수 있는 부분의 비율

1과 가까울수록 높음



R^2 = SSR / SST = 1-SSE/SST



전체 제곱합 SST

회귀제곱합 SSR

잔차제곱합 SSE





회귀 모형에서의 가정

1. x,yㄴ사이에 선형적관계

2. 오차항 e는 정규분포를 따름

3. 오차항의 평균은 0 

4. 오차항의 등분산성

5. 오차항은 서로독립



진단 잔차와 산점도 , 스튜던트화 잔차



정규확률 분포도



회귀변수에 대한 t-검정

해당 독립변수가 유의한 영향을 갖고 있는지를 검정



회귀모형의 적합도검정

1. 결정계수 - 회귀모형의 설명력
2. 개별 회귀변수값에 대한 검정 - 어떤 변수가 중요한가
3. 잔차에 대한 가정 확인 - 잔차 산점도





## 8.3 실제데이터로 예측모형 구현



회귀 모형의 적합 조건





다중회귀모형 - 독립변수가 여러개 존재



차량의 연비데이터 사용



다중회귀모형 lm



다중공선성 독립변수들사이에 상관관계가 높은경우

이럴경우 하나를 제외하는게 적합 

두개의 cluster 존재하기 때문에 나눠서 시행하기도 함



model tree 

설명변수의 이직절 특성에 따라 예측모형을 분리하여 구현





## 8.4 예측모형 핵심과 고려사항



타겟변수가 범주형일때 

로지스틱 회귀 모형



binary 2개의 범주

ordinal 서열 

nominal 명목 ( 서열 x)



예측확률값 출력 : 원래데이터 + 예측확률값



예측모형의 선택

* 예측모형
  * 결정계수가 높은 회귀식
  * 추정값으 표준오차가 낮은 회귀식
* 변수 선택방법
  * 모든 가능한 회귀
  * 단계적 선택법



이상치의 탐지

* 왜곡 위험 이상치를 제외하고 분석
* 이상치의 탐색 : 거리계산, 산점도









